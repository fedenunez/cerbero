# -*- Mode: Python -*- vi:si:et:sw=4:sts=4:ts=4:syntax=python

class Recipe(custom.GStreamerStatic):
    name = 'libnice-static'
    version = '0.1.13'
    gstreamer_version = '1.0'
    stype = SourceType.TARBALL
    srcdir = '../libnice-' + version
    url = 'http://nice.freedesktop.org/releases/libnice-%(version)s.tar.gz'
    licenses = [License.LGPLv2_1Plus, License.MPLv1_1]
    extra_configure_options = ' --without-gstreamer-0.10 \
        --enable-compile-warnings=maximum'
    deps = ['glib', 'gtk-doc-lite', 'gstreamer-1.0','gettext','gnutls']
    autoreconf = True
    patches = [
   #     "libnice/0001-Removing-no-op-assignment.patch",
   #     "libnice/0002-nicesrc-spin-the-agent-mainloop-in-a-separate-thread.patch",
   #     "libnice/0003-TURN-allow-REALM-to-be-empty.patch",
   #     "libnice/0004-TURN-handle-437-Allocation-Mismatch-responses.patch",
        "libnice/0005-D1715-candidate-Add-equality-check-function.patch",
        "libnice/0006-D1716-agent-Drop-packets-not-from-validated-addresse.patch",
        "libnice/0007-D1717-tests-Add-test-to-verify-that-only-packets-fro.patch"
    ]


    files_plugins_net_devel = ['libgstnice']
    # FIXME - if_arp.h? (iOS)
